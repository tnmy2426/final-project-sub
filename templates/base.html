{% load static %}
<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <!--favicon-->
      <link rel="icon" href="{% static 'img/logo.png' %}" type="image/png" />
      <!--plugins-->
      <link href="{% static 'plugins/vectormap/jquery-jvectormap-2.0.2.css' %}" rel="stylesheet" />
      <link href="{% static 'plugins/simplebar/css/simplebar.css' %}" rel="stylesheet" />
      <link href="{% static 'plugins/perfect-scrollbar/css/perfect-scrollbar.css' %}" rel="stylesheet" />
      <link href="{% static 'plugins/metismenu/css/metisMenu.min.css' %}" rel="stylesheet" />
      <link href="{% static 'plugins/fancy-file-uploader/fancy_fileupload.css' %}" rel="stylesheet" />
      <link href="{% static 'plugins/Drag-And-Drop/dist/imageuploadify.min.css' %}" rel="stylesheet" />
      <!-- loader-->
      <link href="{% static 'css/pace.min.css' %}" rel="stylesheet" />
      <script src="{% static 'js/pace.min.js' %}"></script>
      <!-- Bootstrap CSS -->
      <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&amp;display=swap" rel="stylesheet" />
      <link href="{% static 'css/app.css' %}" rel="stylesheet" />
      <link href="{% static 'css/icons.css' %}" rel="stylesheet" />
      <!-- Theme Style CSS -->
      <link rel="stylesheet" href="{% static 'css/dark-theme.css' %}" />
      <link rel="stylesheet" href="{% static 'css/semi-dark.css' %}" />
      <link rel="stylesheet" href="{% static 'css/header-colors.css' %}" />
      <title>{% block title_block %}SUB CSE | Events{% endblock title_block %}</title>
   </head>
</html>

<body>
   <div class="wrapper">
      {% include "navbar.html" %}
      <div class="page-wrapper">
         <div class="messages mt-2">
            {% if messages %} {% for message in messages %}
            <div class="alert alert-{{ message.tags }} border-0 bg-{{ message.tags }} alert-dismissible fade show py-1">
               <div class="d-flex align-items-center">
                  <div class="font-35 text-white"><i class="bx bxs-{{ message.tags }}-square-x"></i></div>
                  <div class="ms-3">
                     <h6 class="mb-0 text-white">{{ message }}</h6>
                  </div>
               </div>
               <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %} {% endif %}
         </div>

         <!--Body start-->
         {% block body_block %} {% endblock body_block %}
         <!--end body-->
      </div>

      <!--start overlay-->
      <div class="overlay toggle-icon"></div>
      <!--end overlay-->
      <!--Start Back To Top Button-->
      <a href="javaScript:;" class="back-to-top"><i class="bx bxs-up-arrow-alt"></i></a>
      <!--End Back To Top Button-->
      <footer class="page-footer">
         <p class="mb-0">Copyright Â© 2021. All right reserved.</p>
      </footer>
   </div>
   <!--
   
-->
   <!-- Bootstrap JS -->
   <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
   <!--plugins-->
   <script src="{% static 'js/jquery.min.js' %}"></script>
   <script src="{% static 'plugins/simplebar/js/simplebar.min.js' %}"></script>
   <script src="{% static 'plugins/metismenu/js/metisMenu.min.js' %}"></script>
   <script src="{% static 'plugins/perfect-scrollbar/js/perfect-scrollbar.js' %}"></script>
   <script src="{% static 'plugins/chartjs/js/Chart.min.js' %}"></script>
   <script src="{% static 'plugins/vectormap/jquery-jvectormap-2.0.2.min.js' %}"></script>
   <script src="{% static 'plugins/vectormap/jquery-jvectormap-world-mill-en.js' %}"></script>
   <script src="{% static 'plugins/jquery.easy-pie-chart/jquery.easypiechart.min.js' %}"></script>
   <script src="{% static 'plugins/sparkline-charts/jquery.sparkline.min.js' %}"></script>
   <script src="{% static 'plugins/jquery-knob/excanvas.js' %}"></script>
   <script src="{% static 'plugins/jquery-knob/jquery.knob.js' %}"></script>
   <script src="{% static 'plugins/fancy-file-uploader/jquery.ui.widget.js' %}"></script>
   <script src="{% static 'plugins/fancy-file-uploader/jquery.fileupload.js' %}"></script>
   <script src="{% static 'plugins/fancy-file-uploader/jquery.iframe-transport.js' %}"></script>
   <script src="{% static 'plugins/fancy-file-uploader/jquery.fancy-fileupload.js' %}"></script>
   <script src="{% static 'plugins/Drag-And-Drop/dist/imageuploadify.min.js' %}"></script>
   <script>
      $(function () {
         $(".knob").knob();
      });
   </script>
   <script>
      $("#fancy-file-upload").FancyFileUpload({
         params: {
            action: "fileuploader",
         },
         maxfilesize: 1000000,
      });
   </script>
   <script>
      $(document).ready(function () {
         $("#image-uploadify").imageuploadify();
      });
   </script>
   <script>
      const captcha = document.querySelector("#captcha"),
         reloadBtn = document.querySelector("#reload-btn"),
         inputField = document.querySelector("#input-captcha"),
         checkBtn = document.querySelector("#check-btn"),
         statusTxt = document.querySelector("#status-text");
      //storing all captcha characters in array
      let allCharacters = [
         "A",
         "B",
         "C",
         "D",
         "E",
         "F",
         "G",
         "H",
         "I",
         "J",
         "K",
         "L",
         "M",
         "N",
         "O",
         "P",
         "Q",
         "R",
         "S",
         "T",
         "U",
         "V",
         "W",
         "X",
         "Y",
         "Z",
         "a",
         "b",
         "c",
         "d",
         "e",
         "f",
         "g",
         "h",
         "i",
         "j",
         "k",
         "l",
         "m",
         "n",
         "o",
         "p",
         "q",
         "r",
         "s",
         "t",
         "u",
         "v",
         "w",
         "x",
         "y",
         "z",
         0,
         1,
         2,
         3,
         4,
         5,
         6,
         7,
         8,
         9,
      ];
      function getCaptcha() {
         for (let i = 0; i < 6; i++) {
            //getting 6 random characters from the array
            let randomCharacter = allCharacters[Math.floor(Math.random() * allCharacters.length)];
            captcha.innerText += ` ${randomCharacter}`; //passing 6 random characters inside captcha innerText
         }
      }

      getCaptcha(); //calling getCaptcha when the page open

      //calling getCaptcha & removeContent on the reload btn click
      reloadBtn.addEventListener("click", () => {
         removeContent();
         getCaptcha();
      });

      checkBtn.addEventListener("click", (e) => {
         e.preventDefault(); //preventing button from it's default behaviour
         statusTxt.style.display = "block";
         //adding space after each character of user entered values because I've added spaces while generating captcha
         let inputVal = inputField.value.split("").join(" ");
         if (inputVal == captcha.innerText) {
            //if captcha matched
            statusTxt.style.color = "#17A00E";
            statusTxt.innerText = "Nice! You don't appear to be a robot.";
            setTimeout(() => {
               //calling removeContent & getCaptcha after 2 seconds
               removeContent();
               getCaptcha();
            }, 5000);
         } else {
            statusTxt.style.color = "#F42236";
            statusTxt.innerText = "Captcha not matched. Please try again!";
            setTimeout(() => {
               //calling removeContent & getCaptcha after 2 seconds
               removeContent();
               getCaptcha();
            }, 3000);
         }
      });

      function removeContent() {
         inputField.value = "";
         captcha.innerText = "";
         statusTxt.style.display = "none";
      }
   </script>
   <script src="{% static 'js/index.js' %}"></script>
   <!--app JS-->
   <script src="{% static 'js/app.js' %}"></script>
</body>
